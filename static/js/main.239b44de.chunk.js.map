{"version":3,"sources":["assets/components/UserGroups.js","assets/components/User.js","assets/pages/Home.js","assets/pages/QueueRecords.js","App.js","index.js"],"names":["Group","group","UserGroups","groups","listGroups","map","User","user","Home","id","header","this","access_token","bridge","props","getUset","getToken","getGroups","send","then","result","data","user_id","e","React","Component","Persik","App","useState","activePanel","setActivePanel","useEffect","subscribe","detail","type","schemeAttribute","document","createAttribute","value","scheme","body","attributes","setNamedItem","go","currentTarget","dataset","to","QueueRecords","ReactDOM","render","getElementById"],"mappings":"gjBAEMA,G,OAAQ,SAAC,GAAa,IAAZC,EAAW,EAAXA,MACf,OAAO,4BAAKA,KAWEC,EARI,SAAC,GAAc,IAAbC,EAAY,EAAZA,OAChBC,EAAa,+FAIjB,OAHID,IACHC,EAAaD,EAAOE,KAAI,SAACJ,GAAD,OAAS,kBAAC,EAAD,CAAOA,MAAOA,QAEzC,6BAAK,4BAAKG,KCCHE,EAVF,SAAC,GAAY,IAAXC,EAAU,EAAVA,KAOd,OANKA,IACJA,EAAO,wKAKD,6BAAK,4BAAI,6BAAMA,MCHFC,E,uKAGb,OAAO,kBAAC,IAAD,CAAOC,GAAG,UAAUC,QAAQ,GAChC,6BAAMC,KAAKR,QACX,6BAAMQ,KAAKJ,MACX,6BAAMI,KAAKC,cACX,kBAAC,EAAD,CAAML,KAAMI,KAAKJ,OACjB,kBAAC,EAAD,CAAYJ,OAAQQ,KAAKR,Y,0CAM5BQ,KAAKE,OAASF,KAAKG,MAAMD,OACzBF,KAAKR,OAAS,KACdQ,KAAKJ,KAAO,KACZI,KAAKC,aAAe,KACpBD,KAAKI,UACLJ,KAAKK,WACLL,KAAKM,c,gCAIE,IAAD,OACNN,KAAKE,OAAOK,KAAK,uBAAuBC,MAAK,SAACC,GAC1C,EAAKb,KAAOa,O,+BAIXb,GAAO,IAAD,OACXI,KAAKE,OAAOK,KAAK,uBAAwB,CAAE,OAAU,QAAS,MAAS,uBAAwBC,MAAK,SAACE,GACjG,EAAKT,aAAeS,O,gCAIlBT,EAAcU,GAAU,IAAD,OAC7BX,KAAKE,OAAOK,KAAK,wBAAyB,CAAE,OAAU,aAAc,WAAc,gBAAiB,OAAU,CAAE,SAAYI,EAAS,EAAK,QAAS,aAAgBV,KAAkBO,MAAK,SAACI,GACtL,EAAKpB,OAASoB,S,GAtCQC,IAAMC,W,iBCMzBC,EANA,SAAAZ,GAAK,OACnB,kBAAC,IAAD,CAAOL,GAAIK,EAAML,IAChB,kBAAC,IAAD,iBCwBakB,EAvBH,WAAO,IAAD,EACqBC,mBAAS,QAD9B,mBACVC,EADU,KACGC,EADH,OAEOF,mBAAS,MAFhB,6BAGjBG,qBAAU,WACTlB,IAAOmB,WAAU,YAAgC,IAAD,IAA5BC,OAAUC,EAAkB,EAAlBA,KAAMb,EAAY,EAAZA,KACnC,GAAa,yBAATa,EAAiC,CACpC,IAAMC,EAAkBC,SAASC,gBAAgB,UACjDF,EAAgBG,MAAQjB,EAAKkB,OAASlB,EAAKkB,OAAS,eACpDH,SAASI,KAAKC,WAAWC,aAAaP,SAGtC,IAEH,IAAMQ,EAAK,SAAApB,GACVO,EAAeP,EAAEqB,cAAcC,QAAQC,KAGxC,OAAO,kBAAC,IAAD,CAAMjB,YAAaA,GACpB,kBAAC,EAAD,CAAMpB,GAAG,OAAOI,OAAQA,IAAQ8B,GAAIA,IACpC,kBAACI,EAAD,CAActC,GAAG,gBAAgBkC,GAAIA,MCpB5C9B,IAAOK,KAAK,gBAEZ8B,IAASC,OAAO,kBAAC,EAAD,MAASb,SAASc,eAAe,W","file":"static/js/main.239b44de.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst Group = ({group}) => {\r\n\treturn <li>{group}</li>\r\n}\r\n\r\nconst UserGroups = ({groups}) => {\r\n\tlet listGroups = 'Группы не найдены';\r\n\tif (groups) {\r\n\t\tlistGroups = groups.map((group)=><Group group={group}/>)\r\n\t}\r\n\treturn <div><ul>{listGroups}</ul></div>\r\n}\r\n\r\nexport default UserGroups;\r\n","import React from 'react';\r\n\r\nconst User = ({user}) => {\r\n\tif (!user)\r\n\t\tuser = 'Ошибка получения пользователя'\r\n\t// let listGroups = 'Группы не найдены';\r\n\t// if (groups) {\r\n\t// \tlistGroups = groups.map((group)=><Group group={group}/>)\r\n\t// }\r\n\treturn <div><ul><pre>{user}</pre></ul></div>\r\n}\r\n\r\nexport default User;\r\n","import React from 'react';\nimport Panel from '@vkontakte/vkui/dist/components/Panel/Panel';\nimport { Header, PanelHeaderButton } from '@vkontakte/vkui';\nimport UserGroups from '../components/UserGroups'\nimport User from '../components/User'\n\nexport default class Home extends React.Component {\n\n    render() {\n        return <Panel id='vk-info' header={false}>\n\t\t        \t<pre>{this.groups}</pre>\n\t\t        \t<pre>{this.user}</pre>\n\t\t        \t<pre>{this.access_token}</pre>\n\t\t        \t<User user={this.user}/>\n\t\t        \t<UserGroups groups={this.groups}/>\n\t\t        </Panel>\n    }\n\n    //Life\n    componentDidMount() {\n        this.bridge = this.props.bridge;\n        this.groups = null;\n        this.user = null;\n        this.access_token = null;\n        this.getUset();\n        this.getToken();\n        this.getGroups();\n    }\n\n    //Methods\n    getUset() {\n        this.bridge.send('VKWebAppGetUserInfo').then((result) => {\n            this.user = result\n        });\n    }\n\n    getToken(user) {\n        this.bridge.send(\"VKWebAppGetAuthToken\", { \"app_id\": 7551645, \"scope\": \"groups,wall,photos\" }).then((data) => {\n            this.access_token = data\n        });\n    }\n\n    getGroups(access_token, user_id) {\n        this.bridge.send(\"VKWebAppCallAPIMethod\", { \"method\": \"groups.get\", \"request_id\": \"getUserGroups\", \"params\": { \"user_ids\": user_id, \"v\": \"5.120\", \"access_token\": access_token } }).then((e) => {\n            this.groups = e\n        })\n    }\n\n};\n","import React from 'react';\nimport Panel from '@vkontakte/vkui/dist/components/Panel/Panel';\nimport PanelHeader from '@vkontakte/vkui/dist/components/PanelHeader/PanelHeader';\nimport PanelHeaderButton from '@vkontakte/vkui/dist/components/PanelHeaderButton/PanelHeaderButton';\n\n\nconst Persik = props => (\n\t<Panel id={props.id}>\n\t\t<PanelHeader>header</PanelHeader>\n\t</Panel>\n);\n\nexport default Persik;\n","import React, { useState, useEffect } from 'react';\nimport bridge from '@vkontakte/vk-bridge';\nimport View from '@vkontakte/vkui/dist/components/View/View';\nimport ScreenSpinner from '@vkontakte/vkui/dist/components/ScreenSpinner/ScreenSpinner';\nimport '@vkontakte/vkui/dist/vkui.css';\n\nimport Home from './assets/pages/Home';\nimport QueueRecords from './assets/pages/QueueRecords';\n\nconst App = () => {\n\tconst [activePanel, setActivePanel] = useState('home');\n\tconst [user, setUser] = useState(null);\n\tuseEffect(() => {\n\t\tbridge.subscribe(({ detail: { type, data }}) => {\n\t\t\tif (type === 'VKWebAppUpdateConfig') {\n\t\t\t\tconst schemeAttribute = document.createAttribute('scheme');\n\t\t\t\tschemeAttribute.value = data.scheme ? data.scheme : 'client_light';\n\t\t\t\tdocument.body.attributes.setNamedItem(schemeAttribute);\n\t\t\t}\n\t\t});\n\t}, []);\n\n\tconst go = e => {\n\t\tsetActivePanel(e.currentTarget.dataset.to);\n\t};\n\n\treturn <View activePanel={activePanel}>\n\t\t\t    <Home id='home' bridge={bridge} go={go} />\n\t\t    \t<QueueRecords id='queue-records' go={go} />\n\t\t\t</View>;\n}\n\nexport default App;\n\n","import \"core-js/features/map\";\nimport \"core-js/features/set\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport bridge from \"@vkontakte/vk-bridge\";\nimport App from \"./App\";\n\n// Init VK  Mini App\nbridge.send(\"VKWebAppInit\");\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\nif (process.env.NODE_ENV === \"development\") {\n  import(\"./eruda\").then(({ default: eruda }) => {}); //runtime download\n}\n"],"sourceRoot":""}